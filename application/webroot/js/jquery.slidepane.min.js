(function($){var is_animation_running=false;$.fn.slidepane=function(options){var defaults={slideWidth:700,slideSpeed:500,autoPlay:false,autoPlayInterval:5000,cycle:false,keysControl:true,mouseControl:true,startSlide:1};var o=jQuery.extend(defaults,options);return this.each(function(){var e=$(this);e.effect_duration=o.slideSpeed;e.menu_slider_width=o.slideWidth+'px';e.autoPlay=o.autoPlay;e.autoPlayInterval=o.autoPlayInterval;e.autoPlayCycle=o.cycle;e.keysControl=o.keysControl;e.mouseControl=o.mouseControl;slideHeading=e.children('dt');slideContent=e.children('dd');e.active_slide=e.children('dd:eq(0)');e.slideLength=e.children('dt').length;e.start=o.startSlide;e.css({'overflow':'hidden'});stateFirstTimeRun(slideContent);slideHeading.bind('click',e,slide_on_click);rotateTitle(e);openSlideItem(e,(e.start-1));var numberOfCrossSlide=slideContent.children('.cross_slide').length;for(var x=0;x<numberOfCrossSlide;x++){createCrossSlide(e,x)}var numberOfVerticalSlide=slideContent.children('.vertical_slide').length;for(var i=0;i<numberOfVerticalSlide;i++){e.verticalSlidePosition=0;createVerticalSlide(e,o.slideWidth,i)}var slide_number=e.start;var top_slide_number=e.slideLength;if(e.autoPlay){autoplaySlide(e,slide_number,top_slide_number);e.children('dt').click(function(){clearInterval(intervalProcess)});$(document).keydown(function(){clearInterval(intervalProcess)});e.mousewheel(function(){clearInterval(intervalProcess)})}if(e.keysControl){$(document).keydown(function(event){if(event.keyCode=='39'){keyNext(e,e.slideLength)}if(event.keyCode=='37'){keyPrev(e,e.slideLength)}})}var isOverVerticalSlide=false;e.children('dd').children('.vertical_slide').hover(function(){isOverVerticalSlide=true},function(){isOverVerticalSlide=false;if(e.mouseControl){e.mousewheel(function(event,delta){if(isOverVerticalSlide==false){if(delta>0){keyPrev(e,e.slideLength)}if(delta<0){keyNext(e,e.slideLength)}}})}});if(e.mouseControl){e.mousewheel(function(event,delta){if(isOverVerticalSlide==false){if(delta>0){keyPrev(e,e.slideLength)}if(delta<0){keyNext(e,e.slideLength)}}})}})};function stateFirstTimeRun(slideContent){slideContent.css({'overflow':'hidden','width':'0px'});slideContent.addClass('not_active')}function autoplaySlide(e,slide_number,top_slide_number){intervalProcess=setInterval(function(){if(slide_number==top_slide_number){if(e.autoPlayCycle==false){return}else{slide_number=0}}var currentSlideHeading=e.children('dd:eq('+slide_number+')').prev();if(currentSlideHeading.next()==e.active_slide){return}var activeSlide=e.active_slide;var nextActiveSlide=currentSlideHeading.next();slideInOut(e,activeSlide,nextActiveSlide);slide_number=slide_number+1;if(slide_number==top_slide_number){if(e.autoPlayCycle==false){clearInterval(intervalProcess)}else{slide_number=0}}},e.autoPlayInterval)}function openSlideItem(e,slideNumber){e.active_slide=e.children('dd:eq('+slideNumber+')');var activeSlide=e.active_slide;var slideHeading=activeSlide.prev();slide(activeSlide,e.menu_slider_width,e.effect_duration);activeSlide.removeClass('not_active');slideHeading.css({'cursor':'default'});slideHeading.append('<div class=triangle-right></div>');slideHeading.addClass('active');slideHeading.children('.index').addClass('selected_index')}function slide(slide_content,width,duration){is_animation_running=true;slide_content.animate({'width':width},duration,function(){is_animation_running=false})}function slide_on_click(event){var e=$(this);var activeSlide=event.data.active_slide;var nextActiveSlide=e.next();if(e.next()[0]==activeSlide[0]){return}if(is_animation_running){return}slideInOut(event.data,activeSlide,nextActiveSlide)}function rotateTitle(element){var headingCount=element.children('dt').length;var headingHeight=element.children('dt').height();var headingWidth=element.children('dt').width();for(var i=0;i<headingCount;i++){var currentSlideHeading=element.children('dt:eq('+i+')');var title=currentSlideHeading.text();currentSlideHeading.html('<span>'+title+'</span>');currentSlideHeading.children('span').addClass('title');var currentTitle=currentSlideHeading.children('span.title');currentTitle.css({'display':'block','paddingLeft':'10px','paddingRight':'10px','width':(headingHeight-20)+'px','height':headingWidth+'px','display':'block','-moz-transform':'rotate(-90deg) translate(-'+headingHeight+'px,0px)','-moz-transform-origin':'left top','-webkit-transform':'rotate(-90deg) translate(-'+headingHeight+'px,0px)','-webkit-transform-origin':'left top','-o-transform':'rotate(-90deg) translate(-'+headingHeight+'px,0px)','-o-transform-origin':'left top','transform':'rotate(-90deg) translate(-'+headingHeight+'px,0px)','transform-origin':'left top','filter':'progid:DXImageTransform.Microsoft.BasicImage(rotation=3)','-ms-filter':'progid:DXImageTransform.Microsoft.BasicImage(rotation=3)'});currentSlideHeading.append('<div class=index>'+(i+1)+'</div>')}}function createCrossSlide(element,x){var currentCrossFading=element.children('dd').children('.cross_slide:eq('+x+')');var slideHeight=currentCrossFading.parent().height();var currentCrossSlide=currentCrossFading.children('li');var slideLength=currentCrossSlide.length;var firstCurrentCrossSlide=currentCrossFading.children('li:first');currentCrossFading.css({'list-style-type':'none','margin':'0','padding':'0'});currentCrossSlide.css({'list-style-type':'none','margin':'0','padding':'0','overflow':'hidden','width':element.menu_slider_width,'height':slideHeight+'px','position':'absolute'});createCrossSlideControls(currentCrossFading,slideLength);currentCrossSlide.fadeOut('fast');firstCurrentCrossSlide.fadeIn('fast')}function createCrossSlideControls(currentCrossFading,slideLength){var crossSlideContainer=currentCrossFading.parent();crossSlideContainer.append('<div class=cross_slide_bullet_container></div>');var controlsContainer=crossSlideContainer.children('.cross_slide_bullet_container');for(var i=0;i<slideLength;i++){controlsContainer.append('<div></div>')}var firstControl=controlsContainer.children('div:first');firstControl.addClass('active_bullet');firstControl.css('cursor','default');var activeSlide=0;for(var i=0;i<slideLength;i++){var crossSlideControl=controlsContainer.children('div:eq('+i+')');crossSlideControl.bind('click',{index:i},function(event){var e=$(this);if(activeSlide==event.data.index){return}var crossSlideItem=e.parent('.cross_slide_bullet_container').parent('dd').children('.cross_slide').children('li:eq('+activeSlide+')');crossSlideItem.fadeOut(1000);var slideControl=e.parent('.cross_slide_bullet_container').children('div');slideControl.removeClass('active_bullet');activeSlide=event.data.index;crossSlideItem=e.parent('.cross_slide_bullet_container').parent('dd').children('.cross_slide').children('li:eq('+activeSlide+')');crossSlideItem.fadeIn(1000);e.addClass('active_bullet');slideControl.css('cursor','pointer');e.css('cursor','default')})}}function createVerticalSlide(element,width,i){var currentVerticalSlide=element.children('dd').children('.vertical_slide:eq('+i+')');var slideHeight=currentVerticalSlide.parent().height();var leftPosition=(width/2)-15;var verticalSlideItem=currentVerticalSlide.children('li');var numberOfSlides=verticalSlideItem.length;currentVerticalSlide.css({'list-style-type':'none','margin':'0','padding':'0'});verticalSlideItem.css({'list-style-type':'none','margin':'0','padding':'0','overflow':'hidden','width':element.menu_slider_width,'height':slideHeight+'px'});createVerticalSlideControls(currentVerticalSlide,leftPosition,numberOfSlides,slideHeight,element.verticalSlidePosition,element.mouseControl)}function createVerticalSlideControls(currentVerticalSlide,leftPosition,numberOfSlides,slideHeight,currentPosition,mouseWheelControl){var verticalSlideParent=currentVerticalSlide.parent();verticalSlideParent.append('<div id="up_control"><div id="triangle-up"></div></div>');verticalSlideParent.append('<div id="down_control"><div id="triangle-down"></div></div>');var upControl=verticalSlideParent.children('#up_control');var downControl=verticalSlideParent.children('#down_control');var triangleUp=upControl.children('#triangle-up');var triangleDown=downControl.children('#triangle-down');upControl.css({'width':'30px','height':'30px','backgroundColor':'#000','-moz-border-radius':'5px','-webkit-border-radius':'5px','border-radius':'5px','position':'absolute','display':'block','cursor':'pointer','z-index':'100','top':'5px','left':leftPosition+'px','opacity':'0.5','-moz-opacity':'0.5','-webkit-opacity':'0.5','-khtml-opacity':'0.5','-ms-filter':'progid:DXImageTransform.Microsoft.Alpha(Opacity=50)','filter':'alpha(opacity=50)'});triangleUp.css({'margin':'6px 0 0 8px','width':'0','height':'0','borderLeft':'7px solid transparent','borderRight':'7px solid transparent','borderBottom':'14px solid white'});downControl.css({'width':'30px','height':'30px','backgroundColor':'#000','-moz-border-radius':'5px','-webkit-border-radius':'5px','border-radius':'5px','position':'absolute','display':'block','cursor':'pointer','z-index':'100','bottom':'5px','left':leftPosition+'px','opacity':'0.5','-moz-opacity':'0.5','-webkit-opacity':'0.5','-khtml-opacity':'0.5','-ms-filter':'progid:DXImageTransform.Microsoft.Alpha(Opacity=50)','filter':'alpha(opacity=50)'});triangleDown.css({'margin':'10px 0 0 8px','width':'0','height':'0','borderLeft':'7px solid transparent','borderRight':'7px solid transparent','borderTop':'14px solid white'});createVerticalSlideIndicator(currentVerticalSlide,numberOfSlides);upControl.hide();downControl.hide();verticalSlideParent.hover(function(){var e=$(this);var currentUpControl=e.children('#up_control');var currentDownControl=e.children('#down_control');manageVerticalSlideControls(currentPosition,numberOfSlides,currentUpControl,currentDownControl)},function(){var e=$(this);var currentUpControl=e.children('#up_control');var currentDownControl=e.children('#down_control');currentUpControl.hide();currentDownControl.hide()});downControl.click(function(){if(is_animation_running){return}is_animation_running=true;currentPosition=currentPosition+1;var controlsContainer=$(this).parent();var currentUpControl=controlsContainer.children('#up_control');var currentDownControl=controlsContainer.children('#down_control');manageVerticalSlideControls(currentPosition,numberOfSlides,currentUpControl,currentDownControl);var marginTop=(-currentPosition*slideHeight);var verticalSlide=controlsContainer.children('.vertical_slide');verticalSlide.animate({'marginTop':marginTop+'px'},'slow',function(){is_animation_running=false});stylingVerticalSlideIndicator(currentVerticalSlide,currentPosition)});upControl.click(function(){if(is_animation_running){return}is_animation_running=true;currentPosition=currentPosition-1;var controlsContainer=$(this).parent();var currentUpControl=controlsContainer.children('#up_control');var currentDownControl=controlsContainer.children('#down_control');manageVerticalSlideControls(currentPosition,numberOfSlides,currentUpControl,currentDownControl);var marginTop=(-currentPosition*slideHeight);var verticalSlide=controlsContainer.children('.vertical_slide');verticalSlide.animate({'marginTop':marginTop+'px'},'slow',function(){is_animation_running=false});stylingVerticalSlideIndicator(currentVerticalSlide,currentPosition)});for(var i=0;i<numberOfSlides;i++){var control=currentVerticalSlide.parent().prev().children('.verticalSlideIndicatorContainer').children('div:eq('+i+')');control.bind('click',{index:i},function(event){if(is_animation_running){return}is_animation_running=true;currentPosition=event.data.index;var controlsContainer=$(this).parent().parent().next();var marginTop=(-currentPosition*slideHeight);var verticalSlide=controlsContainer.children('.vertical_slide');verticalSlide.animate({'marginTop':marginTop+'px'},'slow',function(){is_animation_running=false});stylingVerticalSlideIndicator(currentVerticalSlide,currentPosition)})}if(mouseWheelControl){verticalSlideParent.mousewheel(function(event,delta){var controlsContainer=$(this);if(delta>0){if(is_animation_running){return}if(currentPosition==0){return}is_animation_running=true;currentPosition=currentPosition-1;var currentUpControl=controlsContainer.children('#up_control');var currentDownControl=controlsContainer.children('#down_control');manageVerticalSlideControls(currentPosition,numberOfSlides,currentUpControl,currentDownControl);var marginTop=(-currentPosition*slideHeight);var verticalSlide=controlsContainer.children('.vertical_slide');verticalSlide.animate({'marginTop':marginTop+'px'},'slow',function(){is_animation_running=false});stylingVerticalSlideIndicator(currentVerticalSlide,currentPosition)}if(delta<0){if(is_animation_running){return}if(currentPosition==(numberOfSlides-1)){return}is_animation_running=true;currentPosition=currentPosition+1;var currentUpControl=controlsContainer.children('#up_control');var currentDownControl=controlsContainer.children('#down_control');manageVerticalSlideControls(currentPosition,numberOfSlides,currentUpControl,currentDownControl);var marginTop=(-currentPosition*slideHeight);var verticalSlide=controlsContainer.children('.vertical_slide');verticalSlide.animate({'marginTop':marginTop+'px'},'slow',function(){is_animation_running=false});stylingVerticalSlideIndicator(currentVerticalSlide,currentPosition)}})}}function manageVerticalSlideControls(position,numberOfSlides,upControl,downControl){if(position==0){upControl.hide()}else{upControl.show()}if(position==numberOfSlides-1){downControl.hide()}else{downControl.show()}}function stylingVerticalSlideIndicator(currentVerticalSlide,position){var headingVerticalSlide=currentVerticalSlide.parent().prev();var controlsContainer=headingVerticalSlide.children('.verticalSlideIndicatorContainer');var controls=controlsContainer.children('div');var currentControl=controlsContainer.children('div:eq('+position+')');controls.removeClass('active');currentControl.addClass('active')}function createVerticalSlideIndicator(currentVerticalSlide,verticalSlideLength){var headingVerticalSlide=currentVerticalSlide.parent().prev();headingVerticalSlide.append('<div class=verticalSlideIndicatorContainer></div>');var controlsContainer=headingVerticalSlide.children('.verticalSlideIndicatorContainer');for(var i=0;i<verticalSlideLength;i++){controlsContainer.append('<div></div>')}var controls=controlsContainer.children('div');var firstControl=controlsContainer.children('div:first');firstControl.addClass('active')}function keyNext(e,slideLength){if(is_animation_running){return}var activeSlide=e.active_slide;var nextActiveSlide=activeSlide.next().next();var slideIndex=$('dd').index(activeSlide);if(slideIndex==(slideLength-1)){var firstSlide=e.children('dd:eq(0)');nextActiveSlide=firstSlide}slideInOut(e,activeSlide,nextActiveSlide)}function keyPrev(e,slideLength){if(is_animation_running){return}var activeSlide=e.active_slide;var nextActiveSlide=activeSlide.prev().prev();var slideIndex=$('dd').index(activeSlide);if(slideIndex==0){var lastSlide=e.children('dd:eq('+(slideLength-1)+')');nextActiveSlide=lastSlide}slideInOut(e,activeSlide,nextActiveSlide)}function slideInOut(e,activeSlide,nextActiveSlide){activeSlideHeading=activeSlide.prev();slide(activeSlide,0,e.effect_duration);activeSlide.addClass('not_active');activeSlideHeading.children('.triangle-right').remove();activeSlideHeading.removeClass('active');activeSlideHeading.children('.index').removeClass('selected_index');activeSlideHeading.css({'cursor':'pointer'});e.active_slide=nextActiveSlide;activeSlide=e.active_slide;activeSlideHeading=activeSlide.prev();slide(activeSlide,e.menu_slider_width,e.effect_duration);activeSlide.removeClass('not_active');activeSlideHeading.append('<div class=triangle-right></div>');activeSlideHeading.addClass('active');activeSlideHeading.children('.index').addClass('selected_index');activeSlideHeading.css({'cursor':'default'})}})(jQuery);